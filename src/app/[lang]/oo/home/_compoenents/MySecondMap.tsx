"use client";
import React, { useEffect, useState } from "react";
import skyscrapperMarker from "@/public/skyscraper-map-marker.png";
//@ts-ignore
import {
  GoogleMap,
  LoadScript,
  Marker,
  Polygon,
  useJsApiLoader,
} from "@react-google-maps/api";
const containerStyle = {
  width: "100%",
  height: "100%",
};
const center = { lat: 36.9322023, lng: 8.624958 };
//const center = {  lat: -33.86723456,   lng: 151.20623456 };;

let specials = [
  { lat: 33.43357509052815, lng: 3.209873417516872 },
  { lat: 35.215282689636155, lng: -0.44518829134217497 },
  { lat: 29.11377209740726, lng: 7.6190438940844345 },
  { lat: 28.43209428498482, lng: -7.011515288340336 },
];
const myPolyCoordinates = [
  ["", "8.624958", "36.9322023"],
  ["", "7.8559151", "36.8443329"],
  ["", "7.2626533", "37.1076376"],
  ["", "6.9550362", "36.9322023"],
  ["", "6.3617744", "37.0024251"],
  ["", "5.2851143", "36.6506643"],
  ["", "3.4394112", "36.8091568"],
  ["", "2.3847237", "36.5624717"],
  ["", "1.3959541", "36.5448211"],
  ["", "0.0775947", "36.0844922"],
  ["", "-0.0322685", "35.7820411"],
  ["", "-0.6035576", "35.7285473"],
  ["", "-1.4385185", "35.3889197"],
  ["", "-1.790081", "35.0838248"],
  ["", "-2.2515068", "35.1197779"],
  ["", "-1.8340263", "34.7595349"],
  ["", "-1.855999", "34.4883161"],
  ["", "-1.6362724", "34.0343202"],
  ["", "-1.8999443", "33.6327827"],
  ["", "-1.5703545", "33.3028526"],
  ["", "-1.3945732", "32.8425394"],
  ["", "-1.0210381", "32.5281546"],
  ["", "-1.3066826", "32.1382734"],
  ["", "-2.8667412", "32.0638202"],
  ["", "-3.6797295", "31.6906458"],
  ["", "-3.6797295", "31.1656729"],
  ["", "-3.6797295", "30.8832322"],
  ["", "-4.8882256", "30.2209638"],
  ["", "-5.437542", "29.8405053"],
  ["", "-5.6133232", "29.5350905"],
  ["", "-6.4263115", "29.5350905"],
  ["", "-7.4370537", "29.5350905"],
  ["", "-8.7773857", "28.6904475"],
  ["", "-8.7554131", "27.2935472"],
  ["", "1.3520088", "21.1253486"],
  ["", "1.0883369", "20.6634765"],
  ["", "1.659626", "20.5297835"],
  ["", "1.8244209", "20.3238738"],
  ["", "2.0990791", "20.2311247"],
  ["", "2.4726143", "20.0867384"],
  ["", "3.1977119", "19.7872298"],
  ["", "3.1537666", "19.1761504"],
  ["", "5.779499", "19.4871569"],
  ["", "12.0307197", "23.5134798"],
  ["", "11.602253", "24.3069077"],
  ["", "10.2399483", "24.5569708"],
  ["", "9.9872627", "25.4232871"],
  ["", "9.4159737", "26.2243036"],
  ["", "9.42696", "26.3720423"],
  ["", "9.8993721", "26.5392514"],
  ["", "9.8114815", "27.352111"],
  ["", "9.9783641", "27.9050334"],
  ["", "9.8685008", "28.4280378"],
  ["", "9.8685008", "29.0637701"],
  ["", "9.407075", "30.2286148"],
  ["", "9.0664988", "32.0992487"],
  ["", "8.3633738", "32.563402"],
  ["", "8.0887156", "33.0620039"],
  ["", "7.8140574", "33.2275814"],
  ["", "7.5558787", "33.7955046"],
  ["", "7.6382762", "34.1871904"],
  ["", "7.901948", "34.4140831"],
  ["", "8.2754832", "34.6494002"],
  ["", "8.2150584", "34.9065787"],
  ["", "8.3853465", "35.6911337"],
  ["", "8.4073191", "36.4194386"],
  ["", "8.2095652", "36.4989634"],
  ["", "8.4622508", "36.7194372"],
  ["", "8.624958", "36.9322023"],
];

const subRegionsCoor = [
  ["", "6.0922424", "34.1817503"],
  ["", "5.6527893", "34.8155428"],
  ["", "4.9276916", "34.7614067"],
  ["", "4.00484", "35.229403"],
  ["", "3.1918518", "34.9777376"],
  ["", "2.1591369", "34.1272014"],
  ["", "2.9062072", "33.7991694"],
  ["", "3.6972229", "32.3446314"],
  ["", "3.8070861", "32.1402027"],
  ["", "4.202594", "32.326066"],
  ["", "5.4330627", "31.9353148"],
  ["", "6.0482971", "33.1761149"],
  ["", "5.8505432", "34.236264"],
  ["", "6.0922424", "34.1817503"],
];

const myPoly = myPolyCoordinates.map((ele) => ({
  lat: parseFloat(ele[2]),
  lng: parseFloat(ele[1]),
}));
const mySubRegs = subRegionsCoor.map((ele) => ({
  lat: parseFloat(ele[2]),
  lng: parseFloat(ele[1]),
}));

function MySecondMap() {
  const { isLoaded, loadError } = useJsApiLoader({
    id:  (process.env.NEXT_PUBLIC_GOOGLE_MAP_PROJECT_ID as string)!,
    googleMapsApiKey:( process.env.NEXT_PUBLIC_GOOGLEMAPS_API_KEY as string)!
    
  });

  const [map, setMap] = useState(null);
  if (loadError) {
    return <div>Error loading maps</div>;
  }

  if (!isLoaded) {
    return <div>Loading maps</div>;
  }

  const mapContainerStyle = {
    width: "100%",
    height: "100%",
  };
  const handleCLickMark = () => {
    console.log("ok");
  };
  return (
    <div className="w-full h-full">
      <GoogleMap
        options={{ mapId:  process.env.NEXT_PUBLIC_GOOGLE_MAP_ID, disableDefaultUI: true }}
        mapContainerStyle={containerStyle}
        center={center}
        zoom={5}
      >
        {specials.map((ele,index) => (
          <Marker
          key={index}
            position={ele}
            onClick={handleCLickMark}
            icon={{
              url: "https://www.svgrepo.com/show/270040/building-town.svg",
              scaledSize: new google.maps.Size(50, 50),
            }}
          />
        ))}
{/* 
        <Polygon
          paths={myPoly}
          options={{
            strokeColor: "#FF0000",
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: "#FF0000",
            fillOpacity: 0.35,
          }}
        />

        <Polygon
          paths={mySubRegs}
          options={{
            strokeColor: "#1e40af",
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: "#60a5fa",
            fillOpacity: 0.2,
          }}
        /> */}
      </GoogleMap>
    </div>
  );
}

export default MySecondMap;
